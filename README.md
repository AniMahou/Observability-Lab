üöÄ IUT Cafeteria Observability LabMastering the "Ramadan Rush" through Distributed MonitoringThis project serves as the foundational architecture for a high-availability, microservice-based cafeteria ordering system. It is specifically designed to handle massive traffic spikes (like the Iftar rush) using modern observability tools to track system health, latency, and performance in real-time.üõ† The Tech StackComponentTechnologyRoleMicroservicesNode.js / ExpressLightweight, non-blocking I/O for high concurrency.Log ManagementGrafana LokiHigh-performance log aggregation and querying.Metrics EnginePrometheusMonitoring time-series data (Request counts, Latency).Data CollectorGrafana AlloyThe "Messenger" that scrapes metrics and pipes logs to Loki.VisualizationGrafana DashboardsThe unified "Command Center" for the system.ContainerizationDocker & ComposeEnsuring "it works on every machine" with one command.üèó System ArchitectureThe project demonstrates a Decoupled Observability Pattern. Instead of services pushing data and slowing themselves down, they write to local files/endpoints, and Alloy handles the heavy lifting of transport.Application Layer: Node.js services generate JSON logs and expose Prometheus metrics.Collection Layer: Alloy scrapes the /metrics endpoints and tails the .log files.Storage Layer: Loki (Logs) and Prometheus (Metrics) store the data.Visualization Layer: Grafana queries both to provide a "Single Pane of Glass."‚ö° Features & "Chaos" SimulationJSON-Structured Logging: All logs are emitted in JSON format, allowing Loki to perform complex analytical queries (e.g., calculating average latency from log lines).Chaos Mode Toggle: Includes a built-in "Chaos" endpoint to simulate database choking and high latency (5s+), allowing you to observe how a system failure looks on the dashboard before it happens in production.Optimistic Monitoring: Track order success rates and failure counts using Prometheus counters.üöÄ Quick Start1. PrerequisitesDocker & Docker DesktopNode.js (v18+)2. Launch the EcosystemBash# Clone the repo
git clone https://github.com/your-username/observability-lab.git
cd observability-lab

# Start the Monitoring Stack (Grafana, Loki, Prometheus, Alloy)
docker-compose up -d

# Start the Services
cd order-service && npm install && node index.js
cd ../inventory-service && npm install && node index.js
3. Access the DashboardsGrafana: http://localhost:3000 (Login: admin / admin)Order Service: http://localhost:3001/place-orderChaos Toggle: http://localhost:4000/toggle-chaos
üìä Dashboard GuideHow to see the "Ramadan Rush"Go to Explore in Grafana.Select Loki to see real-time logs. Try this query to see latency:Code snippetavg_over_time({service="order-service"} | json | unwrap durationMs [1m])
Select Prometheus to see order volume:Code snippettotal_orders_placed_total
üõ° Fault Tolerance StrategyThis lab proves that even if the Inventory Service slows down (Chaos Mode), our Order Gateway can:Detect the spike via Prometheus.Log the specific error in Loki.Alert the Admin via Grafana before the "Spaghetti Monolith" crashes.
